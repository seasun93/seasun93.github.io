---
layout: post
title: 4. Route를 이용한 메뉴 만들기
image: 
  path: /assets/img/blog/next-title-4.png
description: >
    Routing을 이용하여 메뉴를 만들어 서브페이지와 메인페이지를 작업해보기.
sitemap: false
---

- Table of Contents
{:toc .large-only}


## Routing
URL로 페이지를 나누는 행위를 라우팅이라고 하며 기존 문서 작성을 했을 때 새로운 페이지에 접속하기 위해서는 html 파일을 하나하나 추가해줬어야 했지만 NextJS는 자동라우팅 이라는 기능을 이용하여 손 쉽게 페이지를 만들 수 있다.

### 새로운 페이지 만들기
app 폴더에 새로운 폴더를 만들어준 뒤 해당 폴더에 page.js를 만들어준다. 이렇게 작업을 진행했다면 /새로운폴더 페이지가 생성이 된다.
page.js에는 기존 page.js를 긁어오던가 하단의 코드를 복사 후 붙혀넣고
폴더명 위치에 list가 들어가야 한다면 맨앞글자는 무조건 대문자로 List() 이렇게 작성해주면 된다.

> # 사이트주소/경로1/경로2인 페이지 만들기
> `기존 app폴더에 경로1폴더를 생성하고 경로1 폴더 안에 경로2 폴더를 생성한 다음 page.js를 넣고 그 안에 코드를 입력한다.`

```javascript
export default function 폴더명(){
    return(
        <div>

        </div>
    )
}
```


<br/>
* * *
<br/>

## menu와 layout.js
메뉴는 모든 페이지에 들어가도 보여야하는 공통 코드다. 이런 코드를 App 폴더내의 page.js에 작성을 하게되면 메인페이지에만 메뉴가 보이고 다른 페이지에서는 메뉴를 확인 할 수 없게 된다. 이를 해결하기 위해서는 page.js를 감싸고 있는 layout.js에다가 작업을 하면 된다.

```javascript
import Link from "next/link"
import './globals.css'

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <header>
            <h1><Link href="/">홈으로</Link></h1>
            <nav>
                <Link href="/board">게시판으로</Link>
            </nav>
        </header>        
        {children}
        </body>
    </html>
  )
}
```
페이지 변경과 상관없이 계속 노출이 되어야 하는 코드들은 layout.js에 작성을 해준다. 그 이유는 

![next-4-menu](/assets/img/blog/next-4-menu.png)

layout.js에서 body 안의 {children}은 routing 되는 모든 page.js를 보여주기 때문이다.
그래서 공통 코드들은 layout.js에 쓰면 편해질 수 있다.

> # 모든 폴더에 layout.js가 필요한가?
> `정답은 '아니다.' 서브페이지 폴더에는 page.js만 존재하는데 layout.js가 없는 경우에는 해당 폴더의 상위 폴더에 layout.js가 있다면 상위에 있는 **모든** layout.js를 합쳐서 보여주기 때문이다.`

|   메인페이지 코드 |   서브페이지 코드 |
|---|---|
|```html <body><header>메뉴</header><div><h2>메인페이지</h2></div></body> ```|```html <body><header>메뉴</header><div><h2>서브페이지</h2></div></body> ```|

